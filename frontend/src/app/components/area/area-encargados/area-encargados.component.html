<div class="row ">
    <div class="card col-6 offset-3 tabla mt-5">
        <div class="row">
            <div class=" col-12 col-sm-12 col-md-8">
                <div class="card m-3 p-1 titulo">
                    <h5 class=" text-center ">AREA: {{area.nombreArea}} </h5>             
                </div>
            </div>
            <div class=" col-12 col-sm-12 col-md-4 ">
                <div class="card m-3 ">
                        <button type="submit" class="btn btn-outline-danger" (click)="volver()">
                            <i class="bi bi-x-circle-fill" ></i> TERMINAR
                        </button>                   
                  </div>
            </div>
        </div>    
    </div>
</div>
<div class="row">

    <div class="card col-6 offset-3 tabla mt-5 mb-5">

        <div class="card m-3 ">
            <h5 class="card-header titulo text-center">BUSQUEDA</h5>
            <div class="card-body align-content-center">
                    <div class="mb-3">
                        <label for="dni" class="form-label">DNI:</label>
                        <input type="number" id="dni" class="form-control"  name="dni"  placeholder="Ingrese DNI de la persona"

                        [(ngModel)]="dni" (ngModelChange)="buscarPorDni($event)">
                    </div>
                    <!-- <div>
                        <button type="submit" class="btn btn-btn btn-dark" (click)="buscarPorDni()" >Buscar</button>      
                    </div> -->

                    
            </div>                    
      </div>
    </div>
</div>
<div class="row">
    <div class="card col-6 offset-3 tabla mt-1 mb-5">
            <div class="table-wrapper mt-5 ">

                <!-- <div class=" table-title">
                    <div class=" card p-1 titulo m-1">
                        <div class="row">
                            <div class=" col-12  ">
                                <div class="card m-3 ">
                                    <div class="card m-3 p-1 titulo">
                                        <h5 class=" text-center "></h5>             
                                    </div>                  
                                  </div>
                            </div>
                        </div>      
                    </div>
                </div> -->

                <div class="row p-2 bg-white">
                    <div class="table-responsive">
                        <table 
                        class=" table table-striped table-bordered row-border hover">
                            <thead class="titulo p-5">
                              <tr class="text-center" >
                                <th scope="col" class="text-center">APELLIDO Y NOMBRE</th>
                                <th scope="col" class="text-center">DNI</th>
                                <th scope="col" class="text-center">ROLES</th>
                                <th scope="col" class="text-center">AGREGAR</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let p of personas">
                                <td>{{p.apellido}}, {{p.nombre}}</td>
                                <td>{{p.dni}}</td>
                                <td>
                                    <div class="accordion" >   
                                        <div class="accordion-item">
                                          <h2 class="accordion-header" id="headingTwo">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#collapse'+p._id"
                                            aria-expanded="false" [attr.aria-controls]="'collapse'+p._id">
                                            ROLES ASIGNADOS
                                            </button>
                                          </h2>
                                          <div [id]="'collapse'+p._id" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                                            <div class="accordion-body">
                                              <p *ngFor="let rol of p.roles">{{rol.nombreRol}}</p>
                                            </div>
                                          </div>
                                        </div>   
                                      </div>
                                </td>
                                <td>
                                    <button type="button" class="btn btn-outline-success"
                                         (click)="agregarResponsable(p)">
                                    <i class="bi bi-plus-circle"></i> AGREGAR
                                </button>
                                </td>
                              </tr>
                            </tbody>
                        </table>
                    </div>
                    
                </div>
            </div>
    </div>
</div>

